# Template file for 'cross-riscv64-none-elf-binutils'
_triplet=riscv64-none-elf
pkgname=cross-riscv64-none-elf-binutils
version=2.42
revision=1
build_style=gnu-configure
configure_args="
 --disable-nls
 --enable-deterministic-archives
 --enable-interwork
 --enable-ld
 --enable-multilib
 --enable-plugins
 --host=${XBPS_CROSS_TRIPLET}
 --prefix=/usr
 --target=${_triplet}
 --with-gnu-as
 --with-gnu-ld
 --with-sysroot=/usr/${_triplet}
 --with-system-zlib
 --without-isl
"
hostmakedepends="autoconf automake bison flex perl"
makedepends="zlib-devel"
depends="binutils-doc"
short_desc="GNU binary utilities for RV32 and RV64 bare metal"
maintainer="Mikhail Karpenko <karpenko@fastmail.com>"
license="GPL-3.0-or-later"
homepage="https://www.gnu.org/software/binutils/"
distfiles="${GNU_SITE}/binutils/binutils-${version}.tar.xz"
checksum=f6e4d41fd5fc778b06b7891457b3620da5ecea1006c6a4a41ae998109f85a800
nocross=yes

post_install() {
	# Remove documents conflicting with host version
	rm -fr ${DESTDIR}/usr/share/info
}
